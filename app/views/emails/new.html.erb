<div class="flex flex-col gap-4 max-w-[600px] w-full mx-auto">
  <h1 class="text-3xl font-bold mb-2">New Email</h1>
  <%= form_with model: @email do |f| %>
    <div class="flex flex-col gap-4">
      <% if @email.errors.any? %>
        <div class="p-3 bg-red-100 rounded">
          <% @email.errors.full_messages.each do |message| %>
            <p><%= message %></p>
          <% end %>
        </div>
      <% end %>
      <fieldset>
        <%= f.label :subject, class: "block w-full" %>
        <%= f.text_field :subject, class: "block w-full" %>
      </fieldset>
      <fieldset>
        <%= f.label :body, class: "block w-full" %>
        <%= f.text_area :body, class: "block w-full" %>
      </fieldset>
      <fieldset class="grid grid-cols-2 gap-4">
        <% @templates.each do |template| %>
          <div class="flex flex-col h-full">
            <div class="flex justify-between items-baseline">
              <h3 class=""><%= template.title %></h3>
              <div class="flex gap-2 text-sm">
                <%= link_to "Edit", "#" %>
                <%= link_to "Delete", "#" %>
              </div>
            </div>
            <%= f.radio_button :template_id, template.id, id: "#{template.id}", class: "hidden peer" %>
            <label for="<%= template.id %>" class="block w-full h-full p-3 break-words rounded border border-gray-300 peer-checked:bg-sky-600 peer-checked:text-white">
              <span class="block"><%= template.body %></span>
            </label>
          </div>
        <% end %>
      </fieldset>

      <%= f.submit "Save", class: "bg-sky-600 text-white p-2 rounded hover:bg-sky-500 cursor-pointer" %>
    </div>
  <% end %>
</div>